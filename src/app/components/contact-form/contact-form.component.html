<section class="contact-form-section">
  <div class="form-container">
    <form [formGroup]="form" (ngSubmit)="send($event)" class="contact-form">
      <h1 class="form-title">Contact Me</h1>

      <!-- Status Messages -->
      <div *ngIf="statusMessage"
           class="status-message"
           [ngClass]="{'success': submitStatus === 'success', 'error': submitStatus === 'error'}">
        {{ statusMessage }}
      </div>

      <div class="form-group">
        <label for="name">Name *</label>
        <input formControlName="name"
               type="text"
               id="name"
               name="name"
               [class.invalid]="isFieldInvalid('name')"
               placeholder="Your full name"/>
        <div *ngIf="isFieldInvalid('name')" class="error-message">
          {{ getFieldError('name') }}
        </div>
      </div>

      <div class="form-group">
        <label for="email">Email *</label>
        <input formControlName="email"
               type="email"
               id="email"
               name="email"
               [class.invalid]="isFieldInvalid('email')"
               placeholder="your.email@example.com"/>
        <div *ngIf="isFieldInvalid('email')" class="error-message">
          {{ getFieldError('email') }}
        </div>
      </div>

      <div class="form-group checkbox-group">
        <div class="toggle-container">
          <label class="toggle-switch">
            <input type="checkbox"
                   id="allowedToCall"
                   formControlName="allowedToCall"
                   (change)="toggle_disable_telnr()"
                   class="toggle-input">
            <span class="toggle-slider">
              <span class="toggle-knob"></span>
            </span>
          </label>
          <label for="allowedToCall" class="toggle-label">You can give me a call</label>
        </div>
        <div *ngIf="allowedToCall"
             class="phone-input-container"
             [@slideInOut]>
          <label for="phone" class="phone-label">Phone Number</label>
          <div class="phone-input-wrapper">
            <select formControlName="countryCode" class="country-select">
              <option value="+32">ğŸ‡§ğŸ‡ª Belgium +32</option>
              <option value="+93">ğŸ‡¦ğŸ‡« Afghanistan +93</option>
              <option value="+355">ğŸ‡¦ğŸ‡± Albania +355</option>
              <option value="+213">ğŸ‡©ğŸ‡¿ Algeria +213</option>
              <option value="+54">ğŸ‡¦ğŸ‡· Argentina +54</option>
              <option value="+61">ğŸ‡¦ğŸ‡º Australia +61</option>
              <option value="+43">ğŸ‡¦ğŸ‡¹ Austria +43</option>
              <option value="+973">ğŸ‡§ğŸ‡­ Bahrain +973</option>
              <option value="+880">ğŸ‡§ğŸ‡© Bangladesh +880</option>
              <option value="+55">ğŸ‡§ğŸ‡· Brazil +55</option>
              <option value="+1">ğŸ‡¨ğŸ‡¦ Canada +1</option>
              <option value="+86">ğŸ‡¨ğŸ‡³ China +86</option>
              <option value="+45">ğŸ‡©ğŸ‡° Denmark +45</option>
              <option value="+20">ğŸ‡ªğŸ‡¬ Egypt +20</option>
              <option value="+358">ğŸ‡«ğŸ‡® Finland +358</option>
              <option value="+33">ğŸ‡«ğŸ‡· France +33</option>
              <option value="+49">ğŸ‡©ğŸ‡ª Germany +49</option>
              <option value="+30">ğŸ‡¬ğŸ‡· Greece +30</option>
              <option value="+852">ğŸ‡­ğŸ‡° Hong Kong +852</option>
              <option value="+36">ğŸ‡­ğŸ‡º Hungary +36</option>
              <option value="+354">ğŸ‡®ğŸ‡¸ Iceland +354</option>
              <option value="+91">ğŸ‡®ğŸ‡³ India +91</option>
              <option value="+62">ğŸ‡®ğŸ‡© Indonesia +62</option>
              <option value="+98">ğŸ‡®ğŸ‡· Iran +98</option>
              <option value="+353">ğŸ‡®ğŸ‡ª Ireland +353</option>
              <option value="+972">ğŸ‡®ğŸ‡± Israel +972</option>
              <option value="+39">ğŸ‡®ğŸ‡¹ Italy +39</option>
              <option value="+81">ğŸ‡¯ğŸ‡µ Japan +81</option>
              <option value="+962">ğŸ‡¯ğŸ‡´ Jordan +962</option>
              <option value="+82">ğŸ‡°ğŸ‡· South Korea +82</option>
              <option value="+965">ğŸ‡°ğŸ‡¼ Kuwait +965</option>
              <option value="+352">ğŸ‡±ğŸ‡º Luxembourg +352</option>
              <option value="+60">ğŸ‡²ğŸ‡¾ Malaysia +60</option>
              <option value="+52">ğŸ‡²ğŸ‡½ Mexico +52</option>
              <option value="+212">ğŸ‡²ğŸ‡¦ Morocco +212</option>
              <option value="+31">ğŸ‡³ğŸ‡± Netherlands +31</option>
              <option value="+64">ğŸ‡³ğŸ‡¿ New Zealand +64</option>
              <option value="+47">ğŸ‡³ğŸ‡´ Norway +47</option>
              <option value="+92">ğŸ‡µğŸ‡° Pakistan +92</option>
              <option value="+63">ğŸ‡µğŸ‡­ Philippines +63</option>
              <option value="+48">ğŸ‡µğŸ‡± Poland +48</option>
              <option value="+351">ğŸ‡µğŸ‡¹ Portugal +351</option>
              <option value="+974">ğŸ‡¶ğŸ‡¦ Qatar +974</option>
              <option value="+40">ğŸ‡·ğŸ‡´ Romania +40</option>
              <option value="+7">ğŸ‡·ğŸ‡º Russia +7</option>
              <option value="+966">ğŸ‡¸ğŸ‡¦ Saudi Arabia +966</option>
              <option value="+65">ğŸ‡¸ğŸ‡¬ Singapore +65</option>
              <option value="+27">ğŸ‡¿ğŸ‡¦ South Africa +27</option>
              <option value="+34">ğŸ‡ªğŸ‡¸ Spain +34</option>
              <option value="+46">ğŸ‡¸ğŸ‡ª Sweden +46</option>
              <option value="+41">ğŸ‡¨ğŸ‡­ Switzerland +41</option>
              <option value="+66">ğŸ‡¹ğŸ‡­ Thailand +66</option>
              <option value="+90">ğŸ‡¹ğŸ‡· Turkey +90</option>
              <option value="+971">ğŸ‡¦ğŸ‡ª UAE +971</option>
              <option value="+44">ğŸ‡¬ğŸ‡§ United Kingdom +44</option>
              <option value="+1">ğŸ‡ºğŸ‡¸ United States +1</option>
              <option value="+84">ğŸ‡»ğŸ‡³ Vietnam +84</option>
            </select>
            <input formControlName="telNr"
                   type="tel"
                   id="phone"
                   name="phone"
                   placeholder="470 12 34 56"
                   (input)="onPhoneNumberInput($event)"
                   class="phone-number-input"/>
          </div>
        </div>
      </div>

      <div class="form-group">
        <label for="subject">Subject *</label>
        <input formControlName="subject"
               type="text"
               id="subject"
               name="subject"
               [class.invalid]="isFieldInvalid('subject')"
               placeholder="What is this about?"/>
        <div *ngIf="isFieldInvalid('subject')" class="error-message">
          {{ getFieldError('subject') }}
        </div>
      </div>

      <div class="form-group">
        <label for="message">Message *</label>
        <textarea formControlName="message"
                  id="message"
                  name="message"
                  [class.invalid]="isFieldInvalid('message')"
                  placeholder="Tell me about your project or question..."
                  rows="5"></textarea>
        <div *ngIf="isFieldInvalid('message')" class="error-message">
          {{ getFieldError('message') }}
        </div>
      </div>

      <button type="submit"
              class="submit-button"
              [disabled]="isSubmitting || form.invalid">
        <span *ngIf="!isSubmitting">Send Message</span>
        <span *ngIf="isSubmitting">Sending...</span>
      </button>

    </form>
  </div>
</section>
